<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Welcome file</title>
  <link rel="stylesheet" href="https://stackedit.io/style.css" />
</head>

<body class="stackedit">
  <div class="stackedit__left">
    <div class="stackedit__toc">
      
<ul>
<li><a href="#қателіктер-және-исключениялар">Қателіктер және Исключениялар</a>
<ul>
<li><a href="#қателіктер">Қателіктер</a></li>
<li><a href="#қателіктер-1">Қателіктер</a></li>
</ul>
</li>
</ul>

    </div>
  </div>
  <div class="stackedit__right">
    <div class="stackedit__html">
      <h1 id="қателіктер-және-исключениялар">Қателіктер және Исключениялар</h1>
<h2 id="қателіктер">Қателіктер</h2>
<p>Бірнеше «исключение-қателік» бағдарлама тілдерінде әдеттегімен не болса, нәтеже не ісек, исключение табылар. Бұл шешімге келеді, бірақ PHP бір «исключение-лайт» бағдарлама тілі. Оныда исключионалар бар және объектермен жұмыс істейтін уақытта, PHP көзіндегі көптеген қызметтер не болса, несізді жасауға жататыні жатпай жұмыс істеу үшін тырысып көріп тұрады.</p>
<p>Мысалы:</p>
<pre class=" language-console"><code class="prism  language-console">$ php -a
php &gt; echo $foo;
Notice: Undefined variable: foo in php shell code on line 1
</code></pre>
<p>Бұл тек ескерту қателігі, және PHP бастапқыда бой жатқызбаулы жататын жатай тұрады. Бұл Python сияқты «исключение-толық» тілдерден келгендерге қиын болуы мүмкін, себебі мысалы, Python’da өзіндік ұсыныссыз өтінішке сілтеу қосымшасы бар:</p>
<pre class=" language-console"><code class="prism  language-console">$ python
&gt;&gt;&gt; print foo
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
NameError: name 'foo' is not defined
</code></pre>
<p>Тек себебі Python кішкентай мәселені де көрсете отырар, сондықтан көмекшілерге барлық мүмкін қиындықтарды немесе қиындықтарды бағаламайтындай болуы үшін, не болмаса, несіз өте бейімді болып табылуы мүмкін, сондықтан PHP келеді жатқані жататын жататын айтар ала ма? сонда ол осында жататынты ұсынады және оны тіркеу.</p>
<h3 id="қателіктілік-дәрежесі">Қателіктілік Дәрежесі</h3>
<p>PHP-де қателіктілік дәрежелері бірнеше бар. Ерекше тізімдегі ең көп пайдаланылатын хабарлардың үшін қателіктер, ескертулер мен кеңестер бар. Олардың дәрежелері дайындылығы бар: <code>E_ERROR</code>, <code>E_NOTICE</code> және <code>E_WARNING</code>. Қателіктер - бұл фаталды орындайтын қателіктер, адамдардың кодындағы қателіктер менің кодымды түзетуім көмек көрсетеді, себебі олар PHP-ды жаттығу үстіне тұратындарын қастайды. Ескертпелер - бұл скриптты орындау кезінде мәселелерге көмек көрсете алатын назар ақпараттары. Ескертпелер - өлімге арналмайды, скриптты орындау тоқтатылмайды.</p>
<p>Сертіктікке байланысты екінші уақытта хабарланатын қателіктер де бар: <code>E_STRICT</code> хабарлар. Бұл хабарлар, кодыңызды жақсарту үшін пайдаланылады және келесі PHP нұсқаларымен ең көмекші болу үшін реттелген айырбастауларды сұрау етеді.</p>
<h3 id="php-дің-қателіктерінді-дайындау-әдістемесін-озгерту">PHP-дің Қателіктерінді Дайындау Әдістемесін Озгерту</h3>
<p>Қателіктерді дайындау PHP баптаулары мен/немесе PHP функцияларын пайдалану арқылы жасалуы мүмкін. Оны қолдану арқылы PHP функциясы  <code>error_reporting()</code>  сценарийдің жүргізілетін уақытында қателіктердің дәрежесін белгілеу үшін пайдаланылар санаттарын бірін қалпына келтіру арқылы көрсете аласыз. Мысалы, тек қателіктер мен кеңестерді көру үшін, бірақ ескертуді көрмейді ме? деген болмаса, бұл сізге келеді:</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token constant">E_ERROR</span> <span class="token operator">|</span> <span class="token constant">E_WARNING</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Сіз өзіңіздің қателіктерді экранға көрсетуінізді (даму үшін жақсы) немесе жасыруын, және журналдауын (әзірлік үшін жақсы) басқару мүмкін. Бұны байқау жасау үшін  <a href="https://phptherightway.com/#error_reporting">Қателіктерді Дайындау</a>  бөлімін қарауға шолу көрсетіңіз.</p>
<h3 id="толықтай-қателіктерді-жою">Толықтай Қателіктерді Жою</h3>
<p>Сіз PHP-ге таңбалаушыны  <code>@</code>  Қателік Контроллер Операторы арқылы белгілі қателіктерді жоюды атайын айтасыздайсыз. Сіз бұл операторды бір шығыстықтың басында қолданасыз, мен тым өршілдігі бар көзінегі дайындаған көзінен келетін қате сәбыз болса, онда бұл қате жоққа түскен.</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">echo</span> @<span class="token variable">$foo</span><span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre>
<p>Егер ол өткен болса, бұл  <code>$foo['bar']</code>  шығаратын болады, бірақ  <code>$foo</code>  немесе  <code>'bar'</code>  кілті жоқ болса, тек нөлді беретініп, еш нөсерді табатын жоғарып баспасыздырар.  <code>@</code>  қателік контроллер операторынан бас тартпасақ, бұл шығатын мәтін  <code>PHP Өзгерту: Анықталмады айнымалы: foo</code>  немесе  <code>PHP Өзгерту: Анықталмады индекс: bar</code>  қатесін жасау мүмкін.</p>
<p>Бұл жаттығу ідея сияқты көрінуі мүмкін, бірақ бірнеше қажетсіз жасалуларды тарту керек. PHP қателіктердін  <code>@</code>  арқылы жою жасау операторынан көмекші шығататын жолаушыды қолданады. Егер бірақ қателік контроллер операторынан өтіп көрсеңіз, бұл мәтінді қатесіз болдырмау жоспарын жаттайды. Маған көмек көрсеңіз, күшке толық жатамасыз жасаулар толығымен жасалған жатасыз тұтас жоспарына түседі.</p>
<p>Бірақ бұл бірнеше өршілдіктерге ие болуы мүмкін. PHP  <code>@</code>  бар қателік контроллер операторымен индикаторлайды, дайындаған көзді түсіргенде ол түпнұсқа іске асырады. Алдымнан оптимизация өткені, барлық бағдарлама/кітап үшін, адамдар сервер тауарындағы қателік контроллер операторының жұмыс жасау ерекшеліктерін түсіну маңызды.</p>
<p>Екіншінше, қателік контроллер операторы <strong>толық</strong> қателікті алып тастайды. Қате көрсетілмейді және қатені журналга жібермейді. Сонымен қатар, өзінің көреді мұндай келген қатенің зиянсыз болуы мүмкін, бірақ басқа, аз зиянды қате туралы білген жатататын болмайды.</p>
<p>Егер қате жою операторын қолдану жолы бар болса, онда оны қолдану керек екенін қарастырыңыз. Мысалы, біздің жоғарғы кодты бұл жағымды жаза алатын:</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// Null Coalescing Operator</span>
<span class="token keyword">echo</span> <span class="token variable">$foo</span><span class="token punctuation">[</span><span class="token string">'bar'</span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token string">''</span><span class="token punctuation">;</span>
</span></code></pre>
<p><code>fopen()</code> файлды табу үшін көмекші болмауы мүмкін болады. Сіз файлды табатындарды тексеруі боларында файлды табауын тырысып аларсыз, содан кейін  <code>fopen()</code>  (бұл мұндай болуы мүмкін деп ойласа бермеуі көп, бірақ ол жатасыз бола алады) оқып алар. Бұл белгісіздік бола алады. Бұлды PHP шешуі көмекші болуы мүмкін, бірақ бұл қатесізді жасау тәуелділікті артуып кетуі мүмкін кездеседі.</p>
<p>Елді тизбегінде, біз бір стандартты PHP жүйесінде қателіктерді ажыратуды әлдеуі жоқ деп айттық. Бірақ  <a href="https://xdebug.org/docs/basic">Xdebug</a>  басқармасында  <code>xdebug.scream</code>  іске асырайтын параметр бар. Сіз бұны  <code>php.ini</code>  файлы арқылы қазірлауыз.</p>
<pre class=" language-ini"><code class="prism  language-ini"><span class="token constant">xdebug.scream</span> <span class="token attr-value"><span class="token punctuation">=</span> On</span>
</code></pre>
<p>Сіз бұл өрісті  <code>ini_set</code>  функциясы арқылы ойластыра аласыз.</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'xdebug.scream'</span><span class="token punctuation">,</span> <span class="token string">'1'</span><span class="token punctuation">)</span>
</span></code></pre>
<p>Бұл көмекші кодты бағдарлама жасауда және анықтамалы қате босатпауда өте пайдалы болады. Көмекші кодты ажыратпау үшін ешкімні қоңырау қылмауыз, сонымен қатар, қателік контроллер операторы ажыратпау жолаушы.</p>
<ul>
<li><a href="https://www.php.net/language.operators.errorcontrol">Қателік Контроллер Операторлары</a></li>
<li><a href="https://www.sitepoint.com/">SitePoint</a></li>
<li><a href="https://xdebug.org/docs/basic">Xdebug</a></li>
</ul>
<h3 id="errorexception">ErrorException</h3>
<p>PHP-ді “exception-heavy” программалау тілі болуы мүмкін, тек кейбір қатарлы строчканы ауыстыру үшін көмек көрсетеді. Ал егер сіздің “қателіктеріңізді” “exceptions” ретінде ауыстыру келсе, сонда  <code>ErrorException</code>  сыныбын пайдалануға болады, онда  <code>Exception</code>  сыныбын кеңейтуге болады.</p>
<p>Бұл бір көптеген қазіргі жасалған фреймворктердің (мысалы, Symfony және Laravel) өзгертудің жалпы әдісіді байланыстырады. Дебаг режимінде  <em>(немесе девелопмент режимінде)</em> , бұл фреймворктердің екеуі де өзіндік  <em>stack trace</em>  көрсетеді.</p>
<p>Салыстыру үшін көмек көрсету және қателіктерді жинау үшін көмекші пакеттерді де пайдалануға болады. Мысалы,  <a href="https://filp.github.io/whoops/">Whoops!</a> , мысалы, Laravel-ды дефолтты орнатушысы болып табылады және барлық фреймворктерде пайдалануға болады.</p>
<p>Девелопмент кезінде қателіктерді “exceptions” ретінде шығару арқылы, сіз оларды деңгеймен жасауға болады, және девелопмент кезінде көруші кезінде оларды “catch” аймақты таратуымен бірнеше өтініштермен белгіленген бола аласыз. Сіздің қалыпты тұлғаларыңызды қамтамасыз ететін күйге келтіруге әр бір қате бірнеше күн көп мүмкіндік жасайды.</p>
<p>Бұл жайлы ақпарат және <code>ErrorException</code> сыныбын қалай пайдалануға болатыны туралы толық ақпарат  <a href="https://www.php.net/class.errorexception">ErrorException Class</a> бетінде табылуы мүмкін.</p>
<ul>
<li><a href="https://www.php.net/language.operators.errorcontrol">Қателік Контроллер Операторлары</a></li>
<li><a href="https://www.php.net/errorfunc.constants">Қателікті Ақпараттау үшін Алдында белгіленген Константтар</a></li>
<li><a href="https://www.php.net/function.error-reporting"><code>error_reporting()</code></a></li>
<li><a href="https://phptherightway.com/#error_reporting">Есепке алу</a></li>
</ul>
<h2 id="қателіктер-1">Қателіктер</h2>
<p>Қателіктер қауіпті бірдеңе әуес зерттеу тілдерінің белгілі бөлігі, бірақ олар көпшілігі PHP программистері таңмайды. Ruby сияқты тілдер көпшілігі дайын болмауы тиіс, сондықтан HTTP сұрауы сәтсіз болғанда, немесе DB сұрауы бұзылғанда, немесе сурет дайын болмаса, Ruby (немесе қолданылатын жемдер)  экранға қателік шығарады, себебі сізге тиіс белгіліде айтылады.</p>
<p>PHP және қалыптасқан CodeIgniter кезінде көптеген тиімді қателіктерді көрсету үшін асымын болады,  <code>file_get_contents()</code>  қоңырауынан көбінесе  <code>FALSE</code>  және кеңістік болар жатамайды. Мол, сізге қателіктерді көру үшін жасалған класс туралы қателік өтінімінде немесе бұғаттамада жолау көздерінде  <code>get_error()</code>  әдісті пайдалануға болады. Сұрау осы жасалған қате туралы толық белгіліде болмайды және қандай қате өтінімі болатынын тексеру үшін документті іздейтініз.</p>
<p>Біреу басқа класстар экранға қателік шығарып және процесті шығарып тастайды деп есептесе, басқа өрісте қателікті динамик ретте өңдеу мүмкіндігін тоқтатасыздар. Қателіктерді дайын көзі көргізу үшін шығарылады. Егер сізде қате шығарса, сіз оны өздігінше қалай тұтыну көзіңізге алатыныз. Мысалы:</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$email</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fuel<span class="token punctuation">\</span>Email</span><span class="token punctuation">;</span>
<span class="token variable">$email</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">subject</span><span class="token punctuation">(</span><span class="token string">'My Subject'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">body</span><span class="token punctuation">(</span><span class="token string">'How the heck are you?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$email</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">'guy@example.com'</span><span class="token punctuation">,</span> <span class="token string">'Some Guy'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span>
<span class="token punctuation">{</span>
    <span class="token variable">$email</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>Fuel\<span class="token package">Email<span class="token punctuation">\</span>ValidationFailedException</span> <span class="token variable">$e</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Валидация сәтсіз болды</span>
<span class="token punctuation">}</span>
<span class="token keyword">catch</span><span class="token punctuation">(</span>Fuel\<span class="token package">Email<span class="token punctuation">\</span>SendingFailedException</span> <span class="token variable">$e</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Драйвер пошта жіберу мүмкін болмады</span>
<span class="token punctuation">}</span>
<span class="token keyword">finally</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Қателік шығарылса да, емес, нормалды өңделу жалғауы басталған кейде орындалады</span>
<span class="token punctuation">}</span>
</span></code></pre>
<h3 id="spl-қателіктері">SPL қателіктері</h3>
<p>Жалпы  <code>Exception</code>  классы өрісшілерге дайындаушы байланысты көмек көрсетпейді; бірақ бұлды бас тарту үшін үздік  <code>Exception</code>  түрін өзгерту мүмкін:</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">ValidationException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</span></code></pre>
<p>Бұлды бірнеше кездесу блоктарын қоса аласыз және кез келген қателіктерді басқа басқаруыңыздың болуы мүмкін. Бұл,  <a href="https://phptherightway.com/#standard_php_library">SPL кеши</a>  қамтамасыз ету арқылы төмендегі қателіктерді пайдалану жолдарында көмек көрсетуі мүмкін:</p>
<p>Мысалы,  <code>__call()</code>  Мағиялы Методты пайдалану жасаулы болмаса, төмендегі кодды пайдалана аласыз:</p>
<pre class=" language-php"><code class="prism  language-php"><span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BadMethodCallException</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li><a href="https://www.php.net/language.exceptions">Көмек көрсету жайлы оқу</a></li>
<li><a href="https://www.php.net/spl.exceptions">SPL каталогындағы қателіктер туралы оқу</a></li>
<li><a href="https://www.brandonsavage.net/exceptional-php-nesting-exceptions-in-php/">PHP-де қателіктерді қабылдау</a></li>
</ul>

    </div>
  </div>
</body>

</html>
